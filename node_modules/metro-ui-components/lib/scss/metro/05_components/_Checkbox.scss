@mixin Checkbox {
  .m-checkbox {
    $self: &;

    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0;
    font-size: px2rem(16);
    cursor: pointer;

    @include hover() {
      .m-checkbox-input:not(:disabled) + .m-checkbox-inputIcon {
        border-color: color(blue);
      }
    }

    &-inputIcon {
      position: relative;
      float: left;
      width: px2rem(20);
      height: px2rem(20);
      border: px2rem(2) solid color-tint(grey, 60);
      border-radius: px2rem(2);

      background-color: color(white);

      transition: background-color, border-color;
      transition-duration: 0.35s;
      transition-delay: 0.15s;
      transition-timing-function: cubic-bezier(0.4,0,0.2,1);
      will-change: background-color, border-color;

      flex-shrink: 0;

      &:before {
        content: "";
        display: block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: -1;

        width: 0;
        height: 0;
        border-radius: px2rem(2);
        background-color: transparent;

        transition: width, height, background-color;
        transition-duration: 0.35s;
        transition-timing-function: cubic-bezier(0.4,0,0.2,1);
      }

      svg {
        position: absolute;
        top: px2rem(-2);
        left: px2rem(-2);

        polyline {
          fill: none;
          stroke: color(white);
          stroke-width: 2;
          stroke-linecap: round;
          stroke-linejoin: round;
          stroke-dasharray: px2rem(18);
          stroke-dashoffset: px2rem(18);

          will-change: stroke-dashoffset;
          transition: stroke-dashoffset 0.15s cubic-bezier(0.4,0,0.2,1);
          transition-delay: 0s;
        }
      }

      -webkit-appearance: none;
      -moz-appearance: none;
    }

    &-input {
      position: absolute;
      opacity: 0;

      &:focus + .m-checkbox-inputIcon:before {
        width: px2rem(32);
        height: px2rem(32);

        background-color: color-tint(blue, 80);
      }

      #{$self}-isIntermediate & + .m-checkbox-inputIcon,
      &:checked + .m-checkbox-inputIcon {
        border-color: color(blue);
        background-color: color(blue);
        transition-delay: 0s;

        polyline {
          stroke-dashoffset: 0;
          transition-delay: 0.15s;
        }
      }

      &:disabled:not(:checked) + .m-checkbox-inputIcon {
        border-width: px2rem(1);
        padding: px2rem(1);
      }

      &:checked:disabled + .m-checkbox-inputIcon {
        border-color: color-tint(grey, 60);
        background-color: color-tint(grey, 60);
      }

      &:disabled + .m-checkbox-inputIcon {
        border-color: color-tint(grey, 90);
        background-color: color-tint(grey, 95);
      }

      &:disabled ~ .m-checkbox-label,
      &:disabled ~ .m-checkbox-label strong {
        color: color-tint(grey, 60);
      }
    }

    &-label {
      font-size: 1rem;
      line-height: px2rem(22);

      color: color-tint(grey, 20);
      margin-left: px2rem(12);

      > strong {
        color: color(metro-blue);
      }
    }
  }
}
