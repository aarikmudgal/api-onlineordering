@mixin RuleChecklist {
  .m-ruleChecklist {
    margin: 0;
    max-height: 0;
    padding: 0 1rem;
    border-radius: 3px;

    // TODO Check colorsystem
    background: #f4f4f4; // Todo: use colorsystem
    color: color-tint(grey, 20);
    font-size: (14 / 16) * 1rem;
    line-height: (24 / 16) * 1rem;
    font-weight: bold;

    overflow: hidden;
    transition: 0.3s max-height, 0.3s padding;

    &-visible {
      padding: 0.5625rem 1rem;
      max-height: 15rem;
      margin-bottom: 1rem;
    }

    &-content {
      opacity: 0;
      transition: 0.3s opacity;

      .m-ruleChecklist-visible & {
        opacity: 1;
      }
    }

    &-list {
      margin: 0.3rem 0 0.5rem;
      padding: 0;
      list-style: none;
      line-height: (22 / 16) * 1rem;
    }

    &-item {
      position: relative;
      padding-left: 1.5rem;

      color: color-tint(grey, 20);

      transition: 0.3s color;

      &:before {
        content: "";
        display: block;

        position: absolute;
        left: 0;
        top: (3 / 16) * 1rem;

        width: 1rem;
        height: 1rem;

        border-radius: 50%;
        background: color-tint(grey, 80);

        transform: scale(0.4);

        transition: 0.3s transform, 0.3s color;
        transition-timing-function: cubic-bezier(0, 0.72, 0.32, 1), linear;
        transition-timing-function: cubic-bezier(0, 0.72, 0.72, 1.42), linear;
      }

      &:not(&Valid) {
        .m-ruleChecklist-showErrors & {
          color: color(red);

          &:before {
            background-color: color(red);
          }
        }
      }

      &Valid {
        color: color(green);

        &:before {
          background-color: color(green);
          transform: scale(1);
        }

        .m-ruleChecklist-icon {
          opacity: 1;
          transform: scale(1);
        }
      }
    }

    &-icon {
      position: absolute;
      left: 0;
      top: (3 / 16) * 1rem;
      width: 1rem;
      height: 1rem;

      font-size: 0.4rem;

      color: white;
      opacity: 0;

      pointer-events: none;

      background: url(../img/metro/icons/forms/rule-checklist/check.svg) no-repeat 50% 50%;

      transform: scale(0.4);
      transition: 0.3s transform, 0.3s opacity;
    }
  }
}
